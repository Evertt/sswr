import{SWR as d}from"swrev";import{onDestroy as S}from"svelte";import{writable as l}from"svelte/store";var i=class extends d{useSvelte(t,a){let e=()=>{},s=l(this.get(this.resolveKey(t)),()=>()=>e()),o=l(void 0,()=>()=>e()),u=r=>s.set(r),c=r=>o.set(r);return e=this.use(t,u,c,{loadInitialCache:!1,...a}).unsubscribe,S(()=>e()),{data:s,error:o,mutate:(r,R)=>this.mutate(this.resolveKey(t),r,R),revalidate:r=>this.revalidate(this.resolveKey(t),r),clear:r=>this.clear(this.resolveKey(t),r)}}},W=n=>{let t=new i(n);return{useSWR:(a,e)=>t.useSvelte(a,e),mutate:(a,e,s)=>t.mutate(a,e,s),revalidate:(a,e)=>t.revalidate(a,e),clear:(a,e)=>t.clear(a,e)}};export{i as SSWR,W as createSWR};
