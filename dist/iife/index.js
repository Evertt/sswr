(()=>{var v=Object.create,d=Object.defineProperty,y=Object.getPrototypeOf,O=Object.prototype.hasOwnProperty,g=Object.getOwnPropertyNames,K=Object.getOwnPropertyDescriptor;var P=r=>d(r,"__esModule",{value:!0});var b=(r,t,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let e of g(t))!O.call(r,e)&&e!=="default"&&d(r,e,{get:()=>t[e],enumerable:!(s=K(t,e))||s.enumerable});return r},S=r=>b(P(d(r!=null?v(y(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var h=S(require("swrev")),D=S(require("svelte/store"));var l=S(require("swrev")),p=class extends l.DefaultCache{constructor(){super();if(typeof window!="undefined")for(let t=0;t<localStorage.length;t++){let s=window.sessionStorage.key(t),e=s.replace(/^sswr-/,"");if(s===e)continue;let i=window.sessionStorage.getItem(s),a=JSON.parse(i);this.elements.set(e,new l.CacheItem({data:a.data,expiresAt:a.expiresAt?new Date(a.expiresAt):null}))}}resolve(t,s){Promise.resolve(s.data).then(e=>{if(e==null)return this.remove(t);s.data=e,typeof window!="undefined"&&window.sessionStorage.setItem(`sswr-${t}`,JSON.stringify(s)),this.broadcast(t,e)})}};var m=class extends h.SWR{useSvelte(t,s){let e=()=>{},i=(0,D.writable)(this.get(this.resolveKey(t)),()=>()=>e()),a=(0,D.writable)(void 0,()=>()=>e()),R=n=>i.set(n),W=n=>a.set(n);return e=this.use(t,R,W,s).unsubscribe,i.then=n=>new Promise(u=>{let f,c=()=>{};c=i.subscribe(o=>{if(o!==void 0){c(),f=o;let w=n?.(o);u(w||o)}}),f&&c()}),{data:i,error:a,mutate:(n,u)=>this.mutate(this.resolveKey(t),n,u),revalidate:n=>this.revalidate(this.resolveKey(t),n),clear:n=>this.clear(this.resolveKey(t),n),unsubscribe:e,then:n=>{i.then(n).then(()=>e())}}}},B=(r={})=>{let t=new m({cache:new p,...r});return{useSWR:(s,e)=>t.useSvelte(s,e),mutate:(s,e,i)=>t.mutate(s,e,i),revalidate:(s,e)=>t.revalidate(s,e),clear:(s,e)=>t.clear(s,e)}};})();
